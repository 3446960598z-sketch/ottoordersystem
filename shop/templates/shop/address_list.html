{% extends "shop/base.html" %}
{% block title %}我的收货地址{% endblock %}

{% block content %}
  <div class="d-flex justify-content-between align-items-center mb-3">
    <h1>我的收货地址</h1>
    <a href="{% url 'shop:address_create' %}" class="btn btn-primary">添加新地址</a>
  </div>

  <div class="list-group">
    {% for address in addresses %}
      <div class="list-group-item d-flex justify-content-between align-items-center">
        <div>
          <h5>{{ address.contact_name }} {% if address.is_default %}<span class="badge bg-success">默认</span>{% endif %}</h5>
          <p class="mb-1">{{ address.address_line_1 }}, {{ address.city }} {{ address.postal_code }}</p>
          <p class="mb-0 text-muted">电话: {{ address.contact_phone }}</p>
        </div>
        <div>
          <a href="{% url 'shop:address_edit' address.pk %}" class="btn btn-sm btn-secondary">编辑</a>
          <a href="{% url 'shop:address_delete' address.pk %}" class="btn btn-sm btn-danger">删除</a>
        </div>
      </div>
    {% empty %}
      <div class="card text-center p-4">
        <p>您还没有添加任何收货地址。</p>
      </div>
    {% endfor %}
  </div>
{% endblock %}
