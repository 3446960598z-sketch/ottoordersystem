{% extends "shop/base.html" %}
{% block title %}选择收货地址{% endblock %}

{% block content %}
  <h1>选择收货地址</h1>
  <p>请选择一个地址以继续下单。</p>

  <form method="post">
    {% csrf_token %}
    <div class="list-group mb-3">
      {% for address in addresses %}
        <label class="list-group-item d-flex justify-content-between align-items-center">
          <div>
            <input type="radio" name="address" value="{{ address.pk }}" {% if address.is_default %}checked{% endif %}>
            <strong class="ms-2">{{ address.contact_name }}</strong>, {{ address.contact_phone }}
            <p class="mb-0 ms-4 text-muted">{{ address.address_line_1 }}, {{ address.city }} {{ address.postal_code }}</p>
          </div>
          <a href="{% url 'shop:address_edit' address.pk %}" class="btn btn-sm btn-outline-secondary">编辑</a>
        </label>
      {% endfor %}
    </div>
    <div class="d-flex justify-content-between">
        <a href="{% url 'shop:address_create' %}" class="btn btn-secondary">添加新地址</a>
        <button type="submit" class="btn btn-primary">使用此地址下单</button>
    </div>
  </form>
{% endblock %}
